# Отчет

## по лабораторной работе №3 (часть2)

## Уравнивание минимально-ограниченной и свободной нивелирных сетей\

### Вариант №3

###  Таблица 1 – Исходные данные

| От  | до  | h, м   | S, км | Класс |
| --- | --- | ------ | ----- | ----- |
| Rp1 | Rp3 | 0,197  | 6,6   | III   |
| Rp1 | Rp4 | -1,930 | 1,8   | III   |
| Rp1 | Rp8 | 1,176  | 2,1   | III   |
| Rp2 | Rp4 | -1,287 | 3,9   | III   |
| Rp2 | Rp5 | -1,701 | 6,3   | III   |
| Rp2 | Rp6 | -0,360 | 2,2   | III   |
| Rp3 | Rp4 | -2,166 | 4,2   | III   |
| Rp3 | Rp7 | -2,165 | 3,7   | III   |
| Rp3 | Rp8 | 1,016  | 4,4   | III   |
| Rp4 | Rp7 | -0,019 | 4,5   | III   |
| Rp4 | Rp8 | 3,146  | 8,9   | III   |
| Rp5 | Rp6 | 1,332  | 1,9   | III   |
| Rp5 | Rp7 | 0,332  | 5,0   | III   |
| Rp6 | Rp7 | -0,980 | 5,6   | III   |
| Rp6 | Rp8 | 2,200  | 1,4   | III   |

Высотные отметки исходных точек

| Точка      | H, м    |
| ---------- | ------- |
| $H_{Rp_1}$ | 156,956 |

## УРАВНИВАНИЕ МИНИМАЛЬНО-ОГРАНИЧЕННОЙ НИВЕЛИРНОЙ СЕТИ 

Назначим параметры

$$
\begin{matrix}
z_1 = H_{Rp_3}^0 \\
z_2 = H_{Rp_4}^0 \\
z_3 = H_{Rp_8}^0 \\
z_4 = H_{Rp_2}^0 \\
z_5 = H_{Rp_5}^0 \\
z_6 = H_{Rp_6}^0 \\
z_7 = H_{Rp_7}^0 \\
z_1 = z_2 = z_3 = z_4 = z_5 = z_6 = z_7 = 0 \\
\end{matrix}
$$

где $z$ - – приближенное значение параметра.

Составим параметрические уравнения связи и вычислим приближенные
значения измерений

$$
\begin{matrix}
h_1^0 = z_1 - H_{Rp_1} & h_9 = z_3 - z_1     \\
h_2^0 = z_2 - H_{Rp_1} & h_{10} = z_7 - z_2  \\
h_3^0 = z_3 - H_{Rp_1} & h_{11} = z_3 - z_2  \\
h_4^0 = z_2 - z_4      & h_{12} =  z_6 - z_5 \\
h_5^0 = z_5 - z_4      & h_{13} =  z_7 - z_5 \\
h_6^0 = z_6 - z_4      & h_{14} =  z_7 - z_6 \\
h_7^0 = z_2 - z_1      & h_{15} =  z_3 - z_6 \\
h_8^0 = z_7 - z_1      &
\end{matrix}
$$

Найдем элементы вектора свободных членов по формуле:

$$
l_n = \left( h_{выч} - h_{изм} \right)
$$

| № | $h_{выч}$, м | $h_{изм}$, м | l, м     |
| - | ------------ | ------------ | -------- |
| 1 | -102,566     | 0,543        | -103,109 |
| 2 | 0            | -1,418       | 1,418    |
| 3 | 0            | 2,336        | -2,336   |
| 4 | 0            | -2,479       | 2,479    |
| 5 | 0            | 0,762        | -0,762   |
| 6 | 0            | 0,691        | -0,691   |
| 7 | 0            | 1,665        | -1,665   |
| 8 | 0            | 0,806        | -0,806   |

Создадим матрицу коэффициентов параметрических уравнений поправок $A$.

Для составления матрицы $А$ используем формулу переноса ошибок:

$$
F = f(a,b)
$$

$$
m_F^2 = \left( \frac{ \partial F }{\partial a} \right)^2 \cdot m_a^2 + \left( \frac{ \partial F }{\partial b} \right)^2 \cdot m_b^2
$$

В нашем случае дифференцируем параметрические уравнения связи по каждому
параметру. 

$$
A = \begin{pmatrix}
1 & 0 & 0 & 0 & 0 & 0 & 0     \\
0 & 1 & 0 & 0 & 0 & 0 & 0     \\
0 & 0 & 1 & 0 & 0 & 0 & 0     \\
0 & 1 & 0 & -1 & 0 & 0 & 0    \\
0 & 0 & 0 & -1 & 1 & 0 & 0    \\
-1 & 0 & 0 & -1 & 0 & 1 & 0   \\
-1 & 1 & 0 & 0 & 0 & 0 & 0    \\
-1 & 0 & 0 & 0 & 0 & 0 & 1    \\
0 & 0 & 1 & 0 & 0 & 0 & 0     \\
0 & -1 & 0 & 0 & 0 & 0 & 1    \\
0 & -1 & 1 & 0 & 0 & 0 & 0    \\
0 & 0 & 0 & 0 & 0 & 1 & 0     \\
0 & 0 & 0 & 0 & -1 & 0 & 1    \\
0 & 0 & 0 & 0 & -1 & -1 & 1   \\
0 & 0 & 1 & 0 & 0 & -1 & 0    \\
\end{pmatrix}
$$

Создадим диагональную матрицу весов $P$, uде вес рассчитывается по формуле:

$$
P = \left( \frac{1}{\sigma_0 \cdot \sqrt{L}} \right)^2
$$

где $L$ - длина хода, км

$$
P = \begin{pmatrix}
1515 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 5556 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 4762 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 2564 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 1587 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 4545 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 2381 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 2703 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 2273 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 2222 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1124 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 5263 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 2000 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1786 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 7143 \\
\end{pmatrix}
$$

Расчёт матрицы коэффициентов нормальных уравнений $N$ в матричном виде:

$$
N = A^T \cdot P \cdot A
$$

$$
N = \begin{pmatrix}
8872 & -2381 & -2273 & 0 & 0 & 0 & -2703            \\
-2381 & -1124 & -1124 & -2564 & -2564 & 0 & -2222   \\
-2273 & -1124 & 15301 & 0 & 0 & -7143 & 0           \\
0 & -2564 & 0 & 8697 & 8697 & -4545 & 0             \\
0 & 0 & 0 & -1587 & 8850 & -5363 & -2000            \\
0 & 0 & -7143 & -4545 & -5363 & 18737 & -1786       \\
-2703 & -2222 & 0 & 0 & -2000 & -1786 & 8711        \\
\end{pmatrix}
$$

Рассчитаем матрицу свободных членов нормальных уравнений $B$ в матричном
виде:

$$
B = A^T \cdot P \cdot l
$$

$$
B = \begin{pmatrix}
-246810  \\
-849306  \\
-774568  \\
-7636    \\
10375    \\
8590     \\
6980     \\
\end{pmatrix}
$$

Расчитаем вектор высот $H$ в матричном виде:

$$
H = -N \cdot B
$$

$$
H = \begin{pmatrix}
157,152    \\
155,012    \\
158,149    \\
156,311    \\
154,624    \\
155,952    \\
154,978    \\
\end{pmatrix}
$$

Далее вычисляем уравненные превышения:

$$
\begin{matrix}
h_1^{ур} = z_1 - H_{Rp_1} & h_9^{ур} = z_3 - z_1     \\
h_2^{ур} = z_2 - H_{Rp_1} & h_{10}^{ур} = z_7 - z_2  \\
h_3^{ур} = z_3 - H_{Rp_1} & h_{11}^{ур} = z_3 - z_2  \\
h_4^{ур} = z_2 - z_4      & h_{12}^{ур} =  z_6 - z_5 \\
h_5^{ур} = z_5 - z_4      & h_{13}^{ур} =  z_7 - z_5 \\
h_6^{ур} = z_6 - z_4      & h_{14}^{ур} =  z_7 - z_6 \\
h_7^{ур} = z_2 - z_1      & h_{15}^{ур} =  z_3 - z_6 \\
h_8^{ур} = z_7 - z_1      &
\end{matrix}
$$

Вычисляем уравненные поправки:

$$
\nu = h_n^{ур} - h_n
$$

$$
h_{ур} = \begin{pmatrix}
0,196    \\
-1,944   \\
1,193    \\
-1,299   \\
-1,686   \\
-0,359   \\
-2,139   \\
-2,173   \\
0,997    \\
-0,034   \\
3,137    \\
1,328    \\
0,354    \\
-0,974   \\
2,196    \\
\end{pmatrix}
$$

$$
\nu = \begin{pmatrix}
-0,001
-0,014
0,017
-0,012
0,015
0,001
0,027
-0,008
-0,019
-0,015
-0,009
-0,004
0,022
0,006
-0,004
\end{pmatrix}
$$

Проверяем отметки реперов вычислив их несколькими способами, т.е. через
разные превышения:

$$
\begin{cases}
H_{Rp_4} = H_{Rp_1} + h_2^{ур} = 155,012м \\
H_{Rp_4} = H_{Rp_3} + h_7^{ур} = 155,012м \\
H_{Rp_4} = H_{Rp_8} - h_11^{ур} = 155,012м \\
\end{cases}
$$

## ОЦЕНКА ТОЧНОСТИ МИНИМАЛЬНО-ОГРАНИЧЕННОГО УРАВНИВАНИЯ

Рассчитаем ковариационную матрицу уравненных превышений

$$
Q_{ур}^h = A \cdot N^{-1} \cdot A^T
$$

Рассчитаем ковариационную матрицу уравненных отметок реперов:

$$
Q_{ур}^H = N^{-1}
$$

$$
Q_{ур}^h = \begin{pmatrix}
0,0002 & 0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 \\
0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 \\
0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 \\
0,0001 & 0,0001 & 0,0001 & 0,0002 & 0,0002 & 0,0001 & 0,0001 \\
0,0001 & 0,0001 & 0,0001 & 0,0002 & 0,0003 & 0,0002 & 0,0001 \\
0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0002 & 0,0002 & 0,0001 \\
0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0001 & 0,0002 \\
\end{pmatrix}
$$

СКП единицы веса

$$
\mu = \sqrt{\frac{V^T \cdot P \cdot V}{N - t}}
$$

,где $V^T \cdot P \cdot V = 7,564$, $\mu = 0,972$


СКП превышений

$$
\begin{pmatrix}
m_{h_{1}} \\ 
m_{h_{2}} \\ 
m_{h_{3}} \\ 
m_{h_{4}} \\ 
m_{h_{5}} \\ 
m_{h_{6}} \\ 
m_{h_{7}} \\ 
m_{h_{8}} \\ 
m_{h_{9}} \\ 
m_{h_{10}} \\ 
m_{h_{11}} \\ 
m_{h_{12}} \\ 
m_{h_{13}} \\ 
m_{h_{14}} \\ 
m_{h_{15}} \\ 
\end{pmatrix} = \begin{pmatrix}
\sqrt{Q_{ур_{11}}^h} \\ 
\sqrt{Q_{ур_{22}}^h} \\ 
\sqrt{Q_{ур_{33}}^h} \\ 
\sqrt{Q_{ур_{44}}^h} \\ 
\sqrt{Q_{ур_{55}}^h} \\ 
\sqrt{Q_{ур_{66}}^h} \\ 
\sqrt{Q_{ур_{77}}^h} \\ 
\sqrt{Q_{ур_{88}}^h} \\ 
\sqrt{Q_{ур_{99}}^h} \\ 
\sqrt{Q_{ур_{1010}}^h} \\ 
\sqrt{Q_{ур_{1111}}^h} \\ 
\sqrt{Q_{ур_{1212}}^h} \\ 
\sqrt{Q_{ур_{1313}}^h} \\ 
\sqrt{Q_{ур_{1414}}^h} \\ 
\sqrt{Q_{ур_{1515}}^h} \\ 
\end{pmatrix} = \begin{pmatrix}
0,013 \\
0,011 \\
0,011 \\
0,014 \\
0,014 \\
0,011 \\
0,012 \\
0,013 \\
0,013 \\
0,013 \\
0,012 \\
0,011 \\
0,014 \\
0,013 \\
0,010 \\
\end{pmatrix}
$$

СКП реперов

$$
\begin{pmatrix}
m_{H_1} \\
m_{H_2} \\
m_{H_3} \\
m_{H_4} \\
m_{H_5} \\
m_{H_6} \\
m_{H_7} \\
\end{pmatrix} = \mu \begin{pmatrix}
\sqrt{Q_{ур_{11}}^H} \\ 
\sqrt{Q_{ур_{22}}^H} \\ 
\sqrt{Q_{ур_{33}}^H} \\ 
\sqrt{Q_{ур_{44}}^H} \\ 
\sqrt{Q_{ур_{55}}^H} \\ 
\sqrt{Q_{ур_{66}}^H} \\ 
\sqrt{Q_{ур_{77}}^H} \\
\end{pmatrix} =
\begin{pmatrix}
0,0120 \\
0,0165 \\
0,0175 \\
0,0196 \\
0,0164 \\
0,0157 \\
0,0184 \\
\end{pmatrix}
$$
